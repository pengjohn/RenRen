/*!
*@FileName: RenRenAPI_PhotosGetAlbums.cpp
*@Author: xuhonglei@GoZone
*@Date: 2010-12-28
*@Log: 	Author 			Date 		Description
*
*@section Copyright
* =======================================================================<br>
*          Copyright ? 2010-2012 GOZONE <br>
*                All Rights Reserved.<br>
* The file is generated by ReeRen_Component Wizard for Tranzda Mobile Platform <br>
* =======================================================================<br>
*/

#include "RenRenAPICommon.h"

/**
 * JsonÎÄ¼þ½âÎö
 *
 * \param text
 *
 * \return 
 */
void* RenRenAPI_JsonParse_PhotosGetAlbums(char *text)
{
	int i = 0;
	cJSON *jsonall;
	cJSON *json;
	cJSON *pTemp0;
	tResponsePhotosGetAlbums*  Response = new tResponsePhotosGetAlbums;
	memset(Response, 0 , sizeof(tResponsePhotosGetAlbums));

	jsonall = cJSON_Parse(text);

	Response->nArraySize = cJSON_GetArraySize(jsonall);
	if(Response->nArraySize>0)
	{
		Response->Array = (tResponsePhotosGetAlbumsItem*) malloc(sizeof( tResponsePhotosGetAlbumsItem) * Response->nArraySize );
		memset(Response->Array, 0, sizeof( tResponsePhotosGetAlbumsItem) * Response->nArraySize );
		for(i = 0; i<Response->nArraySize; i++)
		{
			json = cJSON_GetArrayItem(jsonall, i);

			pTemp0 = cJSON_GetObjectItem(json, "visible");
			if(pTemp0)
			{
				Response->Array[i].visable = pTemp0->valueint;
			}
			pTemp0 = cJSON_GetObjectItem(json, "comment_count");
			if(pTemp0)
			{
				Response->Array[i].comment_count = pTemp0->valueint;
			}
			pTemp0 = cJSON_GetObjectItem(json, "uid");
			if(pTemp0)
			{
				Response->Array[i].uid = pTemp0->valueint;
			}
			pTemp0 = cJSON_GetObjectItem(json, "update_time");
			if(pTemp0)
			{
				STRCPY_Ex(Response->Array[i].update_time, pTemp0->valuestring);
			}
			pTemp0 = cJSON_GetObjectItem(json, "location");
			if(pTemp0)
			{
				STRCPY_Ex(Response->Array[i].location, pTemp0->valuestring);
			}
			pTemp0 = cJSON_GetObjectItem(json, "description");
			if(pTemp0)
			{
				STRCPY_Ex(Response->Array[i].description, pTemp0->valuestring);
			}
			pTemp0 = cJSON_GetObjectItem(json, "name");
			if(pTemp0)
			{
				STRCPY_Ex(Response->Array[i].name, pTemp0->valuestring);
			}
			pTemp0 = cJSON_GetObjectItem(json, "create_time");
			if(pTemp0)
			{
				STRCPY_Ex(Response->Array[i].create_time, pTemp0->valuestring);
			}
			pTemp0 = cJSON_GetObjectItem(json, "aid");
			if(pTemp0)
			{
				Response->Array[i].aid = pTemp0->valueint;
			}
			pTemp0 = cJSON_GetObjectItem(json, "type");
			if(pTemp0)
			{
				Response->Array[i].type = pTemp0->valueint;
			}
			pTemp0 = cJSON_GetObjectItem(json, "url");
			if(pTemp0)
			{
				STRCPY_Ex(Response->Array[i].url, pTemp0->valuestring);
			}
			pTemp0 = cJSON_GetObjectItem(json, "size");
			if(pTemp0)
			{
				Response->Array[i].size = pTemp0->valueint;
			}



		}
	}
	cJSON_Delete(jsonall);
	return Response;
}
